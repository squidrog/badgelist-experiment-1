<!DOCTYPE html>
<html>
	<head>
		<link href="style.css" rel="stylesheet" type="text/css">
		<title>badgelist-experiment-1</title>
	</head>
	<body>
		<div id="instructions">
			<h3>Instructions:</h3>
			<p>*instructions to be added*</p>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


		<script type="text/javascript">
			
			function getPendingFeedback() {
				var listOfBadges = [];
				
				var groupUrl = document.getElementById("input").value + ".json";

				
				// disables asynchronous in ajax so that the rest of the function works correctly. can be turned  back on using:
				/*
				$.ajaxSetup({
        			async: true
    			});
    			*/
				$.ajaxSetup({
					async: false
				});

				//chrome does not allow xmlhttprequest to a different domain than the page is on so this will not work in chrome
				$.getJSON('https://www.badgelist.com/community.json', function(data) {
					console.log(data);
					listOfBadges = data.badges;
					console.log(listOfBadges);
				});

				// setting contents of textarea, not useful right now
				document.getElementById("outputArea").value= groupUrl + "\n" + groupUrl;

				console.log(listOfBadges);
			}


		</script>


		<!--the box for the user to paste the url of the group-->
		<div id="inputField">
			<input type="text" id="input" value="Group Url">
		</div>

		<!--button calls javascript function-->
		<div id="center">
			<button onclick="getPendingFeedback()">Click</button>
		</div>

		<!--output textarea for links to all feedback requests-->
		<div id=output>
			<textarea id="outputArea" rows="10" cols="70" class="textAreaFormat">Feedback Requests</textarea>
		</div>
			
		</body>
</html>